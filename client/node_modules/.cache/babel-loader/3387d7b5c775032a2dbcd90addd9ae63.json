{"ast":null,"code":"import _slicedToArray from\"G:/projects/entertain-me-redux/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect}from\"react\";import{Modal,Button}from'react-bootstrap';import{useLazyQuery}from\"@apollo/client\";import{TRAILER_API_QUERY}from\"../../utils/queries\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MovieModal=function MovieModal(props){var showMovieTrailerModal=props.showMovieTrailerModal,setShowMovieTrailerModal=props.setShowMovieTrailerModal,movieTrailerModalTitle=props.movieTrailerModalTitle;var _useLazyQuery=useLazyQuery(TRAILER_API_QUERY),_useLazyQuery2=_slicedToArray(_useLazyQuery,2),getTrailer=_useLazyQuery2[0],_useLazyQuery2$=_useLazyQuery2[1],loading=_useLazyQuery2$.loading,data=_useLazyQuery2$.data;useEffect(function(){if(data){document.getElementById('video').src=\"https://www.youtube.com/embed/\".concat(data.trailer.videoId);}});if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}console.log(data);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:showMovieTrailerModal,onHide:function onHide(){return setShowMovieTrailerModal(false);},\"aria-labelledby\":\"trailer-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:movieTrailerModalTitle})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"div\",{className:\"video-box\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"youtube\",dialogueClassName:\"video\",id:\"video\",className:\"video\"})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return getTrailer({variables:{mediaTitle:movieTrailerModalTitle}});},children:\"Show Me The Trailer!\"})})]})});};export default MovieModal;","map":{"version":3,"sources":["G:/projects/entertain-me-redux/client/src/components/MovieModal/index.js"],"names":["useEffect","Modal","Button","useLazyQuery","TRAILER_API_QUERY","MovieModal","props","showMovieTrailerModal","setShowMovieTrailerModal","movieTrailerModalTitle","getTrailer","loading","data","document","getElementById","src","trailer","videoId","console","log","variables","mediaTitle"],"mappings":"wHAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,iBAAT,KAAkC,qBAAlC,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B,GAAQC,CAAAA,qBAAR,CAAoFD,KAApF,CAAQC,qBAAR,CAA+BC,wBAA/B,CAAoFF,KAApF,CAA+BE,wBAA/B,CAAyDC,sBAAzD,CAAoFH,KAApF,CAAyDG,sBAAzD,CACA,kBAAwCN,YAAY,CAACC,iBAAD,CAApD,gDAAOM,UAAP,qDAAqBC,OAArB,iBAAqBA,OAArB,CAA8BC,IAA9B,iBAA8BA,IAA9B,CAEAZ,SAAS,CAAC,UAAM,CACZ,GAAIY,IAAJ,CAAU,CACNC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,GAAjC,yCAAwEH,IAAI,CAACI,OAAL,CAAaC,OAArF,EACH,CACJ,CAJQ,CAAT,CAMA,GAAIN,OAAJ,CAAa,CACX,mBAAO,mCAAP,CACD,CAEDO,OAAO,CAACC,GAAR,CAAYP,IAAZ,EAEA,mBACE,sCACE,MAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAEL,qBAFR,CAGE,MAAM,CAAE,wBAAMC,CAAAA,wBAAwB,CAAC,KAAD,CAA9B,EAHV,CAIE,kBAAgB,eAJlB,wBAME,KAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,uBACE,KAAC,KAAD,CAAO,KAAP,WAAcC,sBAAd,EADF,EANF,cASE,KAAC,KAAD,CAAO,IAAP,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,eAAQ,KAAK,CAAC,SAAd,CAAwB,iBAAiB,CAAC,OAA1C,CACA,EAAE,CAAC,OADH,CACW,SAAS,CAAC,OADrB,EADF,EADF,EATF,cAeE,KAAC,KAAD,CAAO,MAAP,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAAC,CAAEU,SAAS,CAAE,CAAEC,UAAU,CAAEZ,sBAAd,CAAb,CAAD,CAAhB,EAAjB,kCADF,EAfF,GADF,EADF,CAuBH,CAvCD,CAyCA,cAAeJ,CAAAA,UAAf","sourcesContent":["import { useEffect } from \"react\";\nimport { Modal, Button } from 'react-bootstrap';\nimport { useLazyQuery } from \"@apollo/client\";\nimport { TRAILER_API_QUERY } from \"../../utils/queries\";\n\nconst MovieModal = (props) => {\n    const { showMovieTrailerModal, setShowMovieTrailerModal, movieTrailerModalTitle } = props;\n    const [getTrailer, { loading, data }] = useLazyQuery(TRAILER_API_QUERY);\n    \n    useEffect(() => {\n        if (data) {\n            document.getElementById('video').src = `https://www.youtube.com/embed/${data.trailer.videoId}`\n        }\n    });\n\n    if (loading) {\n      return <div>Loading...</div>\n    }\n  \n    console.log(data);\n\n    return (\n      <>\n        <Modal\n          size=\"lg\"\n          show={showMovieTrailerModal}\n          onHide={() => setShowMovieTrailerModal(false)}\n          aria-labelledby=\"trailer-modal\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>{movieTrailerModalTitle}</Modal.Title>       \n          </Modal.Header>\n          <Modal.Body>\n            <div className=\"video-box\">\n              <iframe title=\"youtube\" dialogueClassName=\"video\" \n              id=\"video\" className=\"video\"></iframe>   \n            </div>   \n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={() => getTrailer({ variables: { mediaTitle: movieTrailerModalTitle }})}>Show Me The Trailer!</Button>     \n          </Modal.Footer>         \n          </Modal>\n      </>                           \n    )                               \n};\n\nexport default MovieModal;"]},"metadata":{},"sourceType":"module"}